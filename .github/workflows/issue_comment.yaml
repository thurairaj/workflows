name: Create a comment on new PR

on:
  pull_request:
    types: ['opened', 'synchronize']

jobs:
  comment-with-api:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
      repository-projects: write

    steps:
      - uses: actions/checkout@v4
      - name: Setup node
        uses: actions/setup-node@v3
        with:
          node-version: '20.x'
      - run: npm ci



# - name: Use Node.js
#         uses: actions/setup-node@v3
#         with:
#           node-version: '20.x'
#         run: npm ci
#         run: npm run sonar
#         run: |
#           gh api \
#             --method POST \
#             -H "Accept: application/vnd.github+json" \
#             -H "X-GitHub-Api-Version: 2022-11-28" \
#             /repos/${OWNER}/${REPO}/issues/${ISSUE_NUMBER}/comments \
#             -f body='Me too'
#       - env:
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#           OWNER: ${{ github.event.repository.owner.login }}
#           REPO: ${{ github.event.repository.name }}
#           ISSUE_NUMBER: ${{ github.event.pull_request.number }}
# name: Hello world workflow

# on:
#   push:
#   pull_request:
#   workflow_dispatch:

# jobs:
#   hello:
#     runs-on: ubuntu-latest
#     steps:
#       - uses: actions/checkout@v2
#       - name: hello world
#         run: echo "Hello World"
#         shell: bash
#   goodbye:
#     runs-on: ubuntu-latest
#     steps:
#       - name: goodbye world
#         run: echo "Goodbye World"
#         shell: bash

